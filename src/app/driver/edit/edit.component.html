<section>
    <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="default" color="#fff" type="ball-spin-fade-rotating" bdOpacity=0.5>

      </ngx-spinner>
  <div class="col-md-9 topspace">
    <div class="content">
      <div class="col-md-12">
        <div class="fomr_section">
          <h3 class="form_title"> Edit Driver</h3>
          <form [formGroup]="driverForm" (ngSubmit)="editDriver()">
            <div class="row-fluid">
              <div class="col-md-6" style="display:none">
                <div class="form-group" >
                  <label> Type</label>
                  <select formControlName="type" (change)="check($event)" class="form-control">
                    <option value="" disabled>Select</option>
                    <option value="1">Individual</option>
                    <option value="2">Firm</option>


                  </select>
                </div>
                <div *ngIf="submitted && f.type.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.type.errors.required">
                    Type is required!
                  </p>
                </div>
              </div>
              <div class="col-md-6" *ngIf="driverForm.value.type == 2">
                <div class="form-group">
                  <label> Firm Name</label>
                  <select formControlName="firm" class="form-control">
                      <option value="" disabled>Select</option>
                    <option value="{{firm.id}}" *ngFor='let firm of firmList'>{{firm.legalName}}</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="row-fluid">

              <div class="col-md-4">
                <div class="form-group">
                  <label> Email </label>
                  <input type="email" formControlName="email" class="form-control" placeholder="Enter Email"
                    [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
                </div>
                <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.email.errors.required">
                    Email is required!
                  </p>
                  <p class="error-message" *ngIf="f.email.errors.email">
                    Email must be a valid email address!
                  </p>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label>Phone Number </label>
                  <input type="text" class="form-control" formControlName="phone" placeholder="Enter Phone Number"
                    [ngClass]="{ 'is-invalid': submitted && f.phone.errors }">
                </div>
                <div *ngIf="submitted && f.phone.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.phone.errors.required">
                    Phone Number is required!
                  </p>
                  <p class="error-message" *ngIf="f.phone.errors.pattern">
                    Phone Number must be valid !
                  </p>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label> Driver Name </label>
                  <input type="text" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.name.errors }"
                    formControlName="name" placeholder="Enter Driver Name">
                </div>
                <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.name.errors.required">
                    Name is required!
                  </p>

                </div>
              </div>
            </div>
            <div class="row-fluid">
              <div class="col-md-4">
                <div class="form-group">
                  <label>Address </label>
                  <input type="text" formControlName="address" class="form-control" placeholder="Enter Address"
                    [ngClass]="{ 'is-invalid': submitted && f.address.errors }">
                </div>
                <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.address.errors.required">
                    Address is required!
                  </p>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label> City</label>
                  <input type="text" class="form-control" formControlName="city" placeholder="Enter City"
                    [ngClass]="{ 'is-invalid': submitted && f.city.errors }">
                </div>
                <div *ngIf="submitted && f.city.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.city.errors.required">
                    City is required!
                  </p>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label> State</label>
                  <input type="text" class="form-control" formControlName="state" placeholder="Enter State"
                    [ngClass]="{ 'is-invalid': submitted && f.state.errors }">
                </div>
                <div *ngIf="submitted && f.state.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.state.errors.required">
                    State is required!
                  </p>
                </div>
              </div>

            </div>
            <div class="row-fluid">
              <div class="col-md-4">
                <div class="form-group">
                  <label>Fax </label>
                  <input type="text" class="form-control" formControlName="fax" placeholder="Enter Fax"
                    [ngClass]="{ 'is-invalid': submitted && f.fax.errors }">
                </div>
                <div *ngIf="submitted && f.fax.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.fax.errors.required">
                    Fax is required!
                  </p>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label> Zip</label>
                  <input type="text" class="form-control" formControlName="zip" placeholder="Enter Zip"
                    [ngClass]="{ 'is-invalid': submitted && f.zip.errors }">
                </div>
                <div *ngIf="submitted && f.zip.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.zip.errors.required">
                    Zip is required!
                  </p>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label> Vehicle Type</label>
                  <select formControlName="vehicleType" (change)="check($event)" class="form-control">
                    <option value="" disabled>Select</option>
                    <option value="van">Van</option>
                    <option value="truck">Truck</option>


                  </select>
                </div>
                <div *ngIf="submitted && f.vehicleType.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.vehicleType.errors.required">
                    Vehicle Type is required!
                  </p>
                </div>
              </div>

            </div>
            <div class="row-fluid">


              <div class="col-md-4">
                <div class="form-group">
                  <label>Vehicle Number </label>
                  <input type="text" class="form-control" formControlName="vehicleNumber" placeholder="vehicle number"
                    [ngClass]="{ 'is-invalid': submitted && f.vehicleNumber.errors }">
                </div>
                <div *ngIf="submitted && f.vehicleNumber.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.vehicleNumber.errors.required">
                    Vehicle Number is required!
                  </p>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label>License number </label>
                  <input type="text" class="form-control" formControlName="licenseNumber"
                    placeholder="Enter License Number"
                    [ngClass]="{ 'is-invalid': submitted && f.licenseNumber.errors }">
                </div>
                <div *ngIf="submitted && f.licenseNumber.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.licenseNumber.errors.required">
                    License Number is required!
                  </p>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label> Cell</label>
                  <input type="text" class="form-control" formControlName="cell" placeholder="Enter Cell">
                </div>
                <div *ngIf="submitted && f.cell.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.cell.errors.pattern">
                    Cell must be valid !
                  </p>
                </div>
              </div>
            </div>

            <div class="row-fluid">

              <div class="col-md-4">
                <div class="form-group">
                  <label> Document</label>
                  <input type="file" accept="image/*" class="form-control" #file formControlName="image"
                    placeholder="Enter Cell" [ngClass]="{ 'is-invalid': submitted && f.image.errors }">
                </div>
                <div *ngIf="submitted && f.image.errors" class="invalid-feedback">
                  <p class="error-message" *ngIf=" f.image.errors.required">
                    Document is required!
                  </p>
                </div>
              </div>
            </div>


            <div class="row-fluid">
                <div class="col-md-4">
                <div class="form-group">
                    <label> Equipment</label>
              <select formControlName="equipment" class="form-control" multiple>
                <option value='{{equipment.id}}' *ngFor='let equipment of equipments'>{{equipment.name}}
                </option>
              </select>
            </div>
            </div>
          </div>


            <div class="col-md-12" style="text-align:center;">
              <button type="submit " class="btn btn-default btn_back">Update</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
